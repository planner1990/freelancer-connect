<div class="table-dashboard">
  <v-data-table
    :headers="headersUserManagement"
    :items="dataUserManagement"
    :page.sync="page"
    :items-per-page="itemsPerPage"
    hide-default-footer
    class="elevation-1"
    @page-count="pageCount = $event"
    item-key="name"
    :show-select="showSelect"
  >
    <template v-slot:item.actions="{ item }">
      <v-row justify="center" class="px-5">
        <v-dialog v-model="dialog" max-width="600px">
          <template v-slot:activator="{ on, attrs }">
            <v-btn
              class="ma-2"
              dark
              small
              color="primary"
              v-bind="attrs"
              v-on="on"
            >
              مشاهده درخواست
            </v-btn>
          </template>
          <v-form ref="form" v-model="valid" lazy-validation>
            <v-card
              class="d-flex flex-column justify-center align-center pb-10 send-jobOffer-freelancer"
            >
              <v-card-title>
                <!--                  <span class="text-h5">ارسال درخواست به فریلنسر</span>-->
              </v-card-title>
              <v-card-text>
                <v-container>
                  <v-row>
                    <v-col cols="12">
                      <v-text-field
                        label="عنوان*"
                        required
                        outlined
                        dense
                        v-model="confirmJobOfferForm.title"
                        disabled
                      ></v-text-field>
                    </v-col>
                    <v-col cols="12">
                      <v-textarea
                        outlined
                        label="توضیحات*"
                        required
                        v-model="confirmJobOfferForm.description"
                        disabled
                      ></v-textarea>
                    </v-col>
                    <v-col cols="12">
                      <v-file-input
                        @change="handleFileInput($event)"
                        counter
                        label="File input"
                        placeholder="Select your files"
                        prepend-icon="mdi-paperclip"
                        outlined
                        multiple
                        :show-size="1000"
                        disabled
                        dense
                      >
                        <template v-slot:selection="{ index, text }">
                          <v-chip v-if="index < 3" dark label small>
                            {{ text }}
                          </v-chip>

                          <span
                            v-else-if="index === 3"
                            class="text-overline grey--text text--darken-3 mx-2"
                          >
                            +{{ files.length - 3 }} File(s)
                          </span>
                        </template>
                      </v-file-input>
                    </v-col>
                    <v-col cols="12">
                      <v-text-field
                        label="قیمت پیشنهادی پایه*"
                        required
                        outlined
                        dense
                        v-model="confirmJobOfferForm.minPrice"
                        :rules="confirmJobOfferRule.minPrice"
                      ></v-text-field>
                    </v-col>
                    <v-col cols="12">
                      <v-text-field
                        label="مدت زمان تخمینی اجرای پروژه*"
                        required
                        outlined
                        dense
                        v-model="confirmJobOfferForm.duration"
                        :rules="confirmJobOfferRule.duration"
                      ></v-text-field>
                    </v-col>
                    <v-col cols="12">
                      <v-text-field
                        label="پیش پرداخت*"
                        required
                        outlined
                        dense
                        v-model="confirmJobOfferForm.prepayment"
                        :rules="confirmJobOfferRule.prepayment"
                      ></v-text-field>
                    </v-col>
                    <v-col cols="12">
                      <strong>برآورد کل قیمتی: </strong>
                    </v-col>
                    <v-col cols="12">
                      <v-textarea
                        outlined
                        label="توضیحات*"
                        required
                        v-model="confirmJobOfferForm.freelancerDescription"
                        :rules="confirmJobOfferRule.freelancerDescription"
                      ></v-textarea>
                    </v-col>
                    <v-col cols="12">
                      <v-file-input
                        @change="handleFileInput($event)"
                        counter
                        label="File input"
                        placeholder="Select your files"
                        prepend-icon="mdi-paperclip"
                        outlined
                        multiple
                        dense
                        :show-size="1000"
                      >
                        <template v-slot:selection="{ index, text }">
                          <v-chip v-if="index < 3" dark label small>
                            {{ text }}
                          </v-chip>

                          <span
                            v-else-if="index === 3"
                            class="text-overline grey--text text--darken-3 mx-2"
                          >
                            +{{ files.length - 3 }} File(s)
                          </span>
                        </template>
                      </v-file-input>
                    </v-col>
                  </v-row>
                </v-container>
                <small>*موارد ستاره دار خالی نماند.</small>
              </v-card-text>
              <v-card-actions>
                <v-spacer></v-spacer>
                <v-btn color="error" @click="dialog = false">
                  رد پیشنهاد
                </v-btn>
                <v-btn color="primary" @click="sendJobOfferToFreelancer">
                  تایید و ارسال
                </v-btn>
              </v-card-actions>
            </v-card>
          </v-form>
        </v-dialog>
      </v-row>
    </template>
    <template v-slot:item.icon="{ item }">
      <v-img
        max-height="40"
        max-width="40"
        :src="item.icon"
        class="ma-auto"
      ></v-img>
    </template>
    <template v-slot:item.title="{ item }">
      <div class="d-flex justify-center align-center service-table">
        <!--        <div>-->
        <!--          <img :src="item.title.src" alt="" />-->
        <!--        </div>-->
        <div class="d-flex flex-column align-start px-4">
          <!--          <v-btn class="white&#45;&#45;text" color="error" depressed small>-->
          <!--            featured-->
          <!--          </v-btn>-->
          <div class="m-0 my-1 service-table-title">{{item.title}}</div>
          <!--          <div class="m-0">-->
          <!--            شروع قیمت از <strong>{{item.title.price}}</strong>-->
          <!--          </div>-->
        </div>
      </div>
    </template>
    <template v-slot:item.description="{ item }">
      <div class="d-flex justify-center align-center service-table">
        <div class="d-flex flex-column align-start px-4">
          <div class="m-0">
            {{item.description | readMore(15, '...')}}
          </div>
        </div>
      </div>
    </template>
    <template v-slot:item.updated_at="{ item }">
      <div class="d-flex justify-center align-center service-table">
        <div class="d-flex flex-column align-start px-4">
          <div class="m-0">
            {{item['updated_at'] | changeDate() }}
          </div>
        </div>
      </div>
    </template>
    <template v-slot:item.serviceStatus="{ item }" class="service-status">
      <v-select
        :items="item.serviceStatus"
        append-outer-icon="mdi-check-underline-circle"
        @click:append-outer="confirmChangeServiceStatus"
        menu-props="auto"
        hide-details
        label="انتخاب وضعیت"
        single-line
        solo
        class="col-md-8 my-5"
      ></v-select>
    </template>
  </v-data-table>
  <div class="text-center pt-2">
    <v-pagination v-model="page" :length="pageCount" color="red"></v-pagination>
  </div>
</div>
