<div class="table-dashboard temporary-table">
  <v-data-table
    :headers="headerProposalTable"
    :items="dataProposalTable"
    :page.sync="page"
    :items-per-page="itemsPerPage"
    hide-default-footer
    class="elevation-1"
    @page-count="pageCount = $event"
    item-key="name"
  >
    <template v-slot:item.actions="{ item }">
      <!--      <v-icon class="mr-2" color="primary">-->
      <!--        mdi-pencil-->
      <!--      </v-icon>-->

      <v-dialog
        v-model="dialog"
        persistent
        max-width="350px"
        :retain-focus="false"
      >
        <template v-slot:activator="{ on, attrs }">
          <v-btn
            class="ma-0 pa-0"
            v-bind="attrs"
            v-on="on"
            text
            @click="setIdForDeleteRequest(item.id)"
          >
            <v-icon class="mr-2" color="error">
              mdi-delete
            </v-icon>
          </v-btn>
        </template>
        <v-form ref="form" lazy-validation>
          <v-card
            class="d-flex flex-column justify-center align-center pb-10 send-jobOffer-freelancer"
          >
            <v-card-text>
              <v-container>
                <v-row>
                  <v-col cols="12">
                    آیا قصد حذف درخواست خود را دارید؟
                  </v-col>
                </v-row>
              </v-container>
            </v-card-text>
            <v-card-actions>
              <v-spacer></v-spacer>
              <v-btn color="error" @click="dialog = false">
                خیر
              </v-btn>
              <v-btn color="primary" @click="deleteItem(ProposalId)">
                بله
              </v-btn>
            </v-card-actions>
          </v-card>
        </v-form>
      </v-dialog>
    </template>
    <template v-slot:item.content="{ item }">
      <div class="d-flex justify-center align-center service-table">
        <!--              <div>-->
        <!--                  <img :src="item.title.src" alt="" />-->
        <!--              </div>-->
        <div class="d-flex flex-column align-start px-4">
          <v-btn class="white--text" color="error" depressed small>
            featured
          </v-btn>
          <div class="m-0 my-1 service-table-title">{{item.content}}</div>
          <div class="m-0">شروع قیمت از <strong>{{item.amount}}</strong></div>
        </div>
      </div>
    </template>
    <template v-slot:item.project_title="{ item }">
      <div class="d-flex justify-center align-center service-table">
        <div class="d-flex flex-column align-start px-4">
          <div class="m-0">
            {{item['project_title']}}
          </div>
        </div>
      </div>
    </template>
    <template v-slot:item.content="{ item }">
      <div class="d-flex justify-center align-center service-table">
        <div class="d-flex flex-column align-start px-4">
          <div class="m-0">
            {{item.content | readMore(15, '...')}}
          </div>
        </div>
      </div>
    </template>
    <template v-slot:item.updated_at="{ item }">
      <div class="d-flex justify-center align-center service-table">
        <div class="d-flex flex-column align-start px-4">
          <div class="m-0">
            {{item['updated_at'] | changeDate }}
          </div>
        </div>
      </div>
    </template>
    <template v-slot:item.status="{ item }">
      <div class="d-flex justify-center align-center service-table">
        <div class="d-flex flex-column align-start px-4">
          <div
            class="m-0 my-1 service-table-title"
            v-if="item['deleted_at'] === null"
          >
            {{item.status | proposalStatus}}
          </div>
          <div class="m-0 service-table-title" v-else>
            رد شده
          </div>
        </div>
      </div>
    </template>
  </v-data-table>
  <div class="text-center pt-2 font-weight-bold" v-if="dataProposalTable.length === 0">
    شما تاکنون هیچ پیشنهادی ارسال نکرده‌اید.
  </div>
  <div class="text-center pt-2" v-if="dataProposalTable.length >= 5">
    <v-pagination
      v-model="page"
      :length="pageCount"
      color="primary"
    ></v-pagination>
  </div>
</div>
