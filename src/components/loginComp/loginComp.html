<v-form @submit="onSubmit" class="col-12">
  <transition-group
    name="fade"
    mode="out-in"
    enter-active-class="fade-enter-active"
    appear
    type="transition"
  >
    <div class="step-first" v-if="step === 1" key="step1">
      <h5 class="text-h6 my-5">
        {{$t('navbar.enterAndRegister')}}
      </h5>
      <p>برای ادامه شماره موبایل خود را وارد کنید.</p>
      <v-text-field
        :label="$t('form.mobileAndEmail')"
        name="Username"
        type="text"
        autofocus
        outlined
        v-model="registerForm.phone"
        dense
      ></v-text-field>
      <v-card-actions class="pa-0">
        <v-btn
          color="teal accent-3"
          dark
          :loading="signInLoading"
          block
          class="py-5"
          @click="goToNextStep(2)"
          >{{ $t('actions.continue') }}</v-btn
        >
      </v-card-actions>
      <v-card-text>
        <div class="mt-5 text">{{ $t('form.otherWays') }}:</div>
      </v-card-text>
      <div class="d-xl-flex d-lg-block google ma-0">
        <div class="mb-sm-5">
          <v-btn :loading="signInLoading" block type="submit">
            <v-icon left>
              mdi-google
            </v-icon>
            {{ $t('form.enterAndRegisterByGoogle') }}</v-btn
          >
        </div>
        <div>
          <v-btn
            color="light-blue darken-4"
            dark
            :loading="signInLoading"
            block
            type="submit"
          >
            <v-icon left>
              mdi-linkedin
            </v-icon>
            {{ $t('form.enterAndRegisterByLinkedin') }}</v-btn
          >
        </div>
      </div>
    </div>

    <div
      class="step-second"
      style="transition-delay: .3s"
      v-if="step === 2"
      key="step2"
    >
      <p>
        <v-icon dense @click="backToPrevStep(1)">
          mdi-arrow-right
        </v-icon>
      </p>
      <h5 class="text-h6 my-5">
        {{$t('form.enterConfirmCode')}}
      </h5>
      <p>
        حساب کاربری با شماره موبایل ۰۹۳۷۳۴۵۶۷۸۹ وجود ندارد. برای ساخت حساب جدید،
        کد تایید برای این شماره ارسال گردید.
      </p>
      <v-text-field
        :label="$t('form.enterConfirmCode')"
        name="Username"
        type="number"
        autofocus
        outlined
        v-model="registerForm.OTPCode"
        class="mb-0"
        dense
      ></v-text-field>
      <v-card-text class="text-center">
        <div v-if="timer > 0" class="text">
          ارسال مجدد کد تا {{ timer }} ثانیه دیگر
        </div>
        <v-btn
          v-if="timer <= 0"
          text
          color="primary"
          @click="resendConfirmCode"
        >
          ارسال مجدد کد
        </v-btn>
      </v-card-text>
      <v-card-actions class="pa-0">
        <v-btn
          color="teal accent-3"
          dark
          :loading="signInLoading"
          block
          class="py-5"
          @click="goToNextStep(3)"
          >{{ $t('actions.continue') }}</v-btn
        >
      </v-card-actions>
    </div>

    <div
      class="step-second"
      v-if="step === 3"
      style="transition-delay: .5s"
      key="step3"
    >
      <p>
        <v-icon dense @click="backToPrevStep(2)">
          mdi-arrow-right
        </v-icon>
      </p>
      <div>
        <v-btn
          outlined
          :loading="signInLoading"
          block
          class="py-5"
          @click="goToNextStep(4); handlePersonality('person')"
          >{{ $t('form.IAmPerson') }}</v-btn
        >
      </div>
      <div class="mt-5">
        <v-btn
          outlined
          :loading="signInLoading"
          block
          class="py-5"
          @click="goToNextStep(4); handlePersonality('company')"
          >{{ $t('form.WeAreCompany') }}</v-btn
        >
      </div>
    </div>

    <div
      class="step-second"
      v-if="step === 4"
      style="transition-delay: .5s"
      key="step3"
    >
      <p>
        <v-icon dense @click="backToPrevStep(3)">
          mdi-arrow-right
        </v-icon>
      </p>
      <div>
        <v-btn
          outlined
          :loading="signInLoading"
          block
          class="py-5"
          @click="goToNextStep(5,'freelancer')"
          >{{ $t('form.IAmFreelancer') }}</v-btn
        >
      </div>
      <div class="mt-5">
        <v-btn
          outlined
          :loading="signInLoading"
          block
          class="py-5"
          @click="goToNextStep(5, 'employer')"
          >{{ $t('form.IAmEmployer') }}</v-btn
        >
      </div>
    </div>

    <div
      class="step-second"
      v-if="step === 5"
      style="transition-delay: .5s"
      key="step3"
    >
      <p>
        <v-icon dense @click="backToPrevStep(4)">
          mdi-arrow-right
        </v-icon>
      </p>
      <v-text-field
        :label="$t('form.firstname')"
        name="Username"
        type="text"
        autofocus
        outlined
        v-model="registerForm.firstName"
        class="mb-2"
        dense
        v-if="personality === 'person'"
      ></v-text-field>
      <v-text-field
        :label="$t('form.lastname')"
        name="Username"
        type="text"
        autofocus
        outlined
        v-model="registerForm.lastName"
        class="mb-2"
        dense
        v-if="personality === 'person'"
      ></v-text-field>
      <v-text-field
        :label="$t('form.companyName')"
        name="Username"
        type="text"
        autofocus
        outlined
        v-model="username"
        class="mb-2"
        dense
        v-if="personality === 'company'"
      ></v-text-field>
      <v-select
        class="mb-4"
        :items="items"
        :label="$t('form.typeOfActivity')"
        outlined
        dense
      >
        <template v-slot:append>
          <v-icon color="grey lighten-1">mdi-chevron-down</v-icon>
        </template>
      </v-select>
      <v-card-actions class="pa-0">
        <v-btn
          color="teal accent-3"
          dark
          :loading="signInLoading"
          block
          class="py-5"
          @click="registration"
          >{{ $t('form.registerComplete') }}</v-btn
        >
      </v-card-actions>
    </div>
  </transition-group>
</v-form>
