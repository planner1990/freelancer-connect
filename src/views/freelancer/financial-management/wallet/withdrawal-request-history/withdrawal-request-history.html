<v-container class="withdrawal-request-history">
  <v-row class="justify-space-between mt-5 mb-3 mx-4">
    <v-col md="2" class="pa-0 mx-3" @click="goBack">
      <v-icon>
        mdi-arrow-right
      </v-icon>
      بازگشت
    </v-col>
    <v-col md="3" class="pa-0 mx-3 text-left">
      تاریخچه درخواست‌های برداشت
    </v-col>
    <v-col cols="12">
      <div class="table-dashboard temporary-table mt-8">
        <v-data-table
          dense
          :headers="headersUserManagement"
          :items="dataUserManagement"
          :page.sync="page"
          :items-per-page="itemsPerPage"
          hide-default-footer
          class="elevation-1"
          @page-count="pageCount = $event"
          item-key="name"
        >
          <template v-slot:item.actions="{ item , on, attrs }">
            <v-dialog
              v-model="dialog"
              max-width="600px"
              persistent
              :retain-focus="false"
            >
              <template v-slot:activator="{ on, attrs }">
                <v-btn
                  block
                  color="primary"
                  v-bind="attrs"
                  v-on="on"
                  @click="showDetail(item.id)"
                >
                  مشاهده
                </v-btn>
              </template>
              <v-card
                class="d-flex flex-column justify-center align-center pb-10 send-jobOffer-freelancer"
              >
                <v-card-title class="justify-space-between title">
                  <span class="text-h6">برداشت</span>
                  <v-btn icon @click="dialog = false">
                    <v-icon>mdi-close</v-icon>
                  </v-btn>
                </v-card-title>
                <v-card-text>
                  <v-container>
                    <v-row>
                      <!--                  <v-col><v-divider class="divide-card"></v-divider></v-col>-->
                      <v-col cols="12">
                        <table class="detail-transaction">
                          <tr>
                            <th>نوع تراکنش</th>
                            <th>مبلغ</th>
                            <th>تاریخ</th>
                            <th>واریز کننده</th>
                            <th>بابت</th>
                          </tr>
                          <tr>
                            <td>{{ detailList['type'] }}</td>
                            <td>{{ detailList.amount | thousandMask }}</td>
                            <td>{{ detailList.created_at | changeDate}}</td>
                            <td>{{ detailList['recipient'] }}</td>
                            <td>
                              {{ detailList['concern'] !== null ?
                              detailList['concern'] : "اعتبار"}}
                            </td>
                          </tr>
                        </table>
                      </v-col>
                    </v-row>
                  </v-container>
                </v-card-text>
              </v-card>
            </v-dialog>
          </template>
          <template v-slot:item.icon="{ item }">
            <v-img
              max-height="40"
              max-width="40"
              :src="item.icon"
              class="ma-auto"
            ></v-img>
          </template>
          <template v-slot:item.type="{ item }">
            <div class="d-flex justify-center align-center service-table">
              <div class="d-flex flex-column align-start px-4">
                <div class="m-0">
                  {{item['type']}}
                </div>
              </div>
            </div>
          </template>
          <template v-slot:item.status="{ item }">
            <div class="d-flex justify-center align-center service-table">
              <div class="d-flex flex-column align-start px-4">
                <div class="m-0">
                  {{item['status']}}
                </div>
              </div>
            </div>
          </template>
          <template v-slot:item.amount="{ item }">
            <div class="d-flex justify-center align-center service-table">
              <div class="d-flex flex-column align-start px-4">
                <div class="m-0">
                  {{item.amount | thousandMask}}
                </div>
              </div>
            </div>
          </template>
          <template v-slot:item.created_at="{ item }">
            <div class="d-flex justify-center align-center service-table">
              <div class="d-flex flex-column align-start px-4">
                <div class="m-0">
                  {{item['created_at'] | changeDate}}
                </div>
              </div>
            </div>
          </template>
          <template v-slot:item.payment_code="{ item }">
            <div class="d-flex justify-center align-center service-table">
              <div class="d-flex flex-column align-start px-4">
                <div class="m-0">
                  {{item['payment_code'] ? item['payment_code'] : "کیف پول"}}
                </div>
              </div>
            </div>
          </template>
          <template v-slot:item.depositor_recipient="{ item }">
            <div class="d-flex justify-center align-center service-table">
              <div class="d-flex flex-column align-start px-4">
                <div class="m-0">
                  {{item['depositor'] + " " + item['recipient']}}
                </div>
              </div>
            </div>
          </template>
          <template v-slot:item.concern="{ item }">
            <div class="d-flex justify-center align-center service-table">
              <div class="d-flex flex-column align-start px-4">
                <div class="m-0">
                  {{ detailList['concern'] !== null ? detailList['concern'] :
                  "اعتبار"}}
                </div>
              </div>
            </div>
          </template>
        </v-data-table>
        <div class="text-center pt-2" v-if="!dataUserManagement.length <= 0">
          <v-pagination v-model="page" :length="pageCount"></v-pagination>
        </div>
      </div>
    </v-col>
  </v-row>
</v-container>
